# Vendor-based Development Dockerfile
# This version uses vendor directory to work offline

FROM golang:1.24-alpine

# Set working directory
WORKDIR /app

# Copy go modules and vendor directory
COPY go.mod go.sum ./
COPY vendor/ vendor/

# Copy source code
COPY . .

# Create log directory
RUN mkdir -p /app/logs

# Expose port
EXPOSE 8080

# Set environment for development
ENV GO_ENV=development
ENV PORT=8080
ENV GIN_MODE=debug
ENV GOPROXY=off

# Default command using vendor
CMD ["go", "run", "-mod=vendor", "main.go"]